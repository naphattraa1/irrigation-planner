<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Assisted Irrigation Planner</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-tint"></i>
                <span>Irrigation Planner</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#home">Home</a></li>
                <li><a href="#planner">Planner</a></li>
                <li><a href="#map">Map</a></li>
                <li><a href="#outputs">Results</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">AI-Assisted Irrigation Planner</h1>
            <p class="hero-subtitle">Satellite-powered irrigation layout and hydraulic validation</p>
            <button class="btn-primary" onclick="scrollToSection('planner')">
                <i class="fas fa-rocket"></i> Get Started
            </button>
        </div>
        <div class="hero-background">
            <div class="wave"></div>
        </div>
    </section>

    <!-- Inputs & Planner Section -->
    <section id="planner" class="planner-section">
        <div class="container">
            <h2 class="section-title">
                <i class="fas fa-sliders-h"></i> Irrigation Planner
            </h2>
            
            <div class="planner-grid">
                <!-- Farm Inputs Card -->
                <div class="input-card">
                    <div class="card-header">
                        <i class="fas fa-seedling"></i>
                        <h3>Farm Inputs</h3>
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-ruler-combined"></i> Area (ha)
                        </label>
                        <div class="slider-container">
                            <input type="range" id="area" min="1" max="100" value="10" step="0.5" class="slider">
                            <input type="number" id="area-value" value="10" min="1" max="100" step="0.5" class="number-input">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-leaf"></i> Crop Coefficient (Kc)
                        </label>
                        <select id="kc" class="select-input">
                            <option value="0.3">0.3 - Fallow</option>
                            <option value="0.5">0.5 - Pasture</option>
                            <option value="0.7">0.7 - Vegetables</option>
                            <option value="0.9">0.9 - Row Crops</option>
                            <option value="1.1">1.1 - Orchards</option>
                            <option value="1.2">1.2 - Dense Canopy</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-sun"></i> ETâ‚€ (mm/day)
                        </label>
                        <input type="number" id="eto" value="5.0" min="0" max="15" step="0.1" class="number-input">
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-cloud-rain"></i> Rainfall (mm/day)
                        </label>
                        <input type="number" id="rainfall" value="0" min="0" max="50" step="0.1" class="number-input">
                    </div>
                </div>

                <!-- Hydraulic Settings Card -->
                <div class="input-card">
                    <div class="card-header">
                        <i class="fas fa-cog"></i>
                        <h3>Hydraulic Settings</h3>
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-pipe"></i> Main Pipe Diameter (mm)
                        </label>
                        <select id="main-diameter" class="select-input">
                            <option value="50">50 mm</option>
                            <option value="63">63 mm</option>
                            <option value="75">75 mm</option>
                            <option value="90">90 mm</option>
                            <option value="110">110 mm</option>
                            <option value="125">125 mm</option>
                            <option value="140">140 mm</option>
                            <option value="160">160 mm</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>
                            <i class="fas fa-arrows-alt-h"></i> Max Lateral Length (m)
                        </label>
                        <select id="max-lateral" class="select-input">
                            <option value="50">50 m</option>
                            <option value="75">75 m</option>
                            <option value="100">100 m</option>
                            <option value="125">125 m</option>
                            <option value="150">150 m</option>
                            <option value="200">200 m</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn-action" id="calculate-demand">
                    <i class="fas fa-calculator"></i> Calculate Demand
                </button>
                <button class="btn-action" id="generate-layout">
                    <i class="fas fa-project-diagram"></i> Generate Layout
                </button>
                <button class="btn-action" id="validate-hydraulics">
                    <i class="fas fa-check-circle"></i> Validate Hydraulics
                </button>
                <button class="btn-action" id="show-bom">
                    <i class="fas fa-list"></i> BOM
                </button>
                <button class="btn-action btn-primary" id="finalize-design">
                    <i class="fas fa-check-double"></i> Finalize Design
                </button>
            </div>
        </div>
    </section>

    <!-- Interactive Map Section -->
    <section id="map" class="map-section">
        <div class="container">
            <h2 class="section-title">
                <i class="fas fa-map"></i> Interactive Layout Map
            </h2>
            <div id="map-container" class="map-container"></div>
        </div>
    </section>

    <!-- Output Panels Section -->
    <section id="outputs" class="outputs-section">
        <div class="container">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i> Results & Validation
            </h2>
            
            <div class="outputs-grid">
                <div class="output-card">
                    <div class="output-icon">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="output-content">
                        <h3>Water Demand</h3>
                        <p class="output-value" id="water-demand">0</p>
                        <p class="output-unit">L/day</p>
                    </div>
                </div>

                <div class="output-card">
                    <div class="output-icon">
                        <i class="fas fa-ruler"></i>
                    </div>
                    <div class="output-content">
                        <h3>Pipe Length</h3>
                        <p class="output-value" id="pipe-length">0</p>
                        <p class="output-unit">m</p>
                    </div>
                </div>

                <div class="output-card">
                    <div class="output-icon">
                        <i class="fas fa-chart-area"></i>
                    </div>
                    <div class="output-content">
                        <h3>Head Loss</h3>
                        <p class="output-value" id="head-loss">0</p>
                        <p class="output-unit">%</p>
                    </div>
                </div>

                <div class="output-card">
                    <div class="output-icon">
                        <i class="fas fa-arrows-alt-h"></i>
                    </div>
                    <div class="output-content">
                        <h3>Max Lateral</h3>
                        <p class="output-value" id="max-lateral-output">0</p>
                        <p class="output-unit">m</p>
                    </div>
                </div>

                <div class="output-card validation-card" id="validation-card">
                    <div class="output-icon">
                        <i class="fas fa-check-circle" id="validation-icon"></i>
                    </div>
                    <div class="output-content">
                        <h3>Validation</h3>
                        <p class="output-value" id="validation-status">Pending</p>
                        <p class="output-unit" id="validation-notes"></p>
                    </div>
                </div>
            </div>

            <!-- BOM Table -->
            <div class="bom-container" id="bom-container" style="display: none;">
                <h3 class="bom-title">
                    <i class="fas fa-list-alt"></i> Bill of Materials
                </h3>
                <table class="bom-table" id="bom-table">
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Quantity</th>
                            <th>Unit</th>
                            <th>Unit Price</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="bom-tbody">
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Finalize Design Modal -->
    <div id="finalize-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-check-double"></i> Design Summary</h2>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Content will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn-primary" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

